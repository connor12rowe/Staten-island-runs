<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Post a Run — Staten Island Runs</title>
  <style>
  :root{ --bg:#0f1221; --card:#161a2f; --ink:#eef2ff; --muted:#b5c0ff; --accent:#7c9cff; --accent-2:#58e1ff; --shadow:0 10px 30px rgba(0,0,0,.25); --radius:14px; }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color:var(--ink); background:radial-gradient(1200px 800px at 80% -10%, #1a1f3f 0%, #0f1221 55%, #0b0e1a 100%) fixed; line-height:1.5;}
  .container{max-width:900px;margin:0 auto;padding:0 20px}
  header{position:sticky;top:0;z-index:10;backdrop-filter: blur(8px); background:rgba(10,12,22,.7);border-bottom:1px solid rgba(255,255,255,.06)}
  .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
  .brand{display:flex;align-items:center;gap:12px;font-weight:800}
  .logo{width:36px;height:36px;border-radius:10px;display:grid;place-items:center; background: conic-gradient(from 200deg at 50% 50%, #4f66ff, #58e1ff, #7c9cff, #4f66ff); color:#0a0d1a;font-weight:900;box-shadow: var(--shadow);}
  a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
  .panel{background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01)); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px}
  .field{margin-bottom:12px} .field label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
  .field input,.field select,.field textarea{width:100%;padding:12px;border-radius:10px;background:#0b0e1a;border:1px solid rgba(255,255,255,.12);color:var(--ink);outline:none}
  .btn{background:linear-gradient(90deg,#4f66ff,#58e1ff);color:#06101a;border:0;border-radius:10px;padding:12px 16px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);display:inline-block}
  .muted{color:var(--muted)} .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  footer{padding:36px 0 60px;color:var(--muted);font-size:14px}
</style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><div class="logo">SI</div><a href="index.html">Staten Island Runs</a></div>
      <nav class="row"><a href="index.html#upcoming">Upcoming</a><a href="privacy.html">Privacy</a></nav>
    </div>
  </header>

  <main class="container" style="padding:24px 0">
    <h1 style="margin:0 0 10px">Post a pickup game</h1>
    <p class="muted" style="margin-top:0">No login required. Fill this out and share the link with friends.</p>

    <form class="panel" id="runForm" onsubmit="return createRunLink(event)">
      <div class="field">
        <label for="park">Park</label>
        <select id="park" required>
          <option value="" disabled selected>Select a park</option>
          <option>Clove Lakes Park Courts</option>
          <option>Silver Lake Park Courts</option>
          <option>Midland Beach Courts</option>
          <option>Schmul Park (Bloomfield)</option>
          <option>Wolfe's Pond Park Courts</option>
          <option>Faber Park</option>
          <option>Corporal Thompson Park</option>
        </select>
      </div>
      <div class="row">
        <div class="field" style="flex:1;min-width:180px">
          <label for="date">Date</label>
          <input id="date" type="date" required>
        </div>
        <div class="field" style="flex:1;min-width:140px">
          <label for="time">Time</label>
          <input id="time" type="time" required>
        </div>
      </div>
      <div class="row">
        <div class="field" style="flex:1;min-width:180px">
          <label for="skill">Skill level</label>
          <select id="skill" required>
            <option>Casual</option>
            <option>Intermediate</option>
            <option>Competitive</option>
          </select>
        </div>
        <div class="field" style="flex:1;min-width:140px">
          <label for="need">Players needed</label>
          <input id="need" type="number" min="1" max="20" value="4" required>
        </div>
      </div>
      <div class="row">
        <div class="field" style="flex:1;min-width:180px">
          <label for="players">Current players (optional)</label>
          <input id="players" type="number" min="1" max="20" placeholder="e.g., 6">
        </div>
        <div class="field" style="flex:1;min-width:180px">
          <label for="host">Organizer handle (optional)</label>
          <input id="host" type="text" placeholder="@yourname">
        </div>
      </div>
      <div class="field">
        <label for="note">Note (optional)</label>
        <textarea id="note" rows="3" placeholder="Bring a dark & light. We’ll run full if we get 10."></textarea>
      </div>

      <div class="row" style="justify-content:space-between">
        <button class="btn" type="submit">Generate shareable link</button>
        <a href="index.html" class="muted">&larr; Back to home</a>
      </div>
    </form>

    <div id="result" style="margin-top:16px"></div>
  </main>

  <footer class="container">
    <div class="row" style="justify-content:space-between">
      <div class="brand"><div class="logo">SI</div><div>Staten Island Runs</div></div>
      <a href="privacy.html">Privacy</a>
    </div>
  </footer>

  <script>
    function b64url(str){return btoa(unescape(encodeURIComponent(str))).replace(/\+/g,'-').replace(/\//g,'_').replace(/=+$/,'')}
    function createRunLink(e){
      e.preventDefault();
      const data = {
        park: document.getElementById('park').value,
        date: document.getElementById('date').value,
        time: document.getElementById('time').value,
        skill: document.getElementById('skill').value,
        need: document.getElementById('need').value,
        players: document.getElementById('players').value || null,
        host: document.getElementById('host').value || null,
        note: document.getElementById('note').value || null
      };
      const payload = b64url(JSON.stringify(data));
      const url = new URL('run.html', location.href);
      url.searchParams.set('d', payload);
      const out = document.getElementById('result');
      out.innerHTML = `<div class="panel">
        <h3 style="margin-top:0">Your run link</h3>
        <p><a href="${url}" target="_blank">${url}</a></p>
        <div class="row">
          <button class="btn" onclick="navigator.clipboard.writeText('${url}').then(()=>this.textContent='Copied!')">Copy link</button>
          <button class="btn" onclick="window.open('${url}','_blank')">Open</button>
        </div>
        <p class="muted" style="margin-top:10px">Share this URL anywhere. Anyone with the link can view details, RSVP locally, get directions, and add to calendar.</p>
      </div>`;
      return false;
    }
  </script>
</body>
</html>
